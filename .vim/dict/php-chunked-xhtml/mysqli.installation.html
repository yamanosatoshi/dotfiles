<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>インストール手順</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqli.requirements.html">« 要件</a></li>
      <li style="float: right;"><a href="mysqli.configuration.html">実行時設定 »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mysqli.setup.html">インストール/設定</a></li>
    <li>インストール手順</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqli.installation" class="section">

<h2 class="title">インストール手順</h2>

 <p class="para">
  <code class="literal">mysqli</code> 拡張モジュールが使えるようになったのは PHP バージョン
  5.0.0 以降です。また、MySQL Native Driver が PHP に含まれるようになったのはバージョン 5.3.0 以降です。
 </p>

 <div class="section" id="mysqli.installation.linux">

  <h2 class="title">Linux でのインストール</h2>

  <p class="para">
   一般的な Unix ディストリビューションには、バイナリ版の PHP がインストールされています。
   これらのバイナリ版は、通常は MySQL 拡張モジュールに対応したものになっています。
   しかし、拡張モジュールライブラリ自身を別パッケージでインストールする必要があるでしょう。
   使用しているディストリビューションのパッケージマネージャで確認してみましょう。
  </p>
  
  <p class="para">
   たとえば Ubuntu なら、<code class="literal">php5-mysql</code> パッケージをインストールすれば、
   ext/mysql、ext/mysqli、そして pdo_mysql をインストールできます。CentOS の場合は
   <code class="literal">php-mysql</code> パッケージを使えば、同じものをインストールできます。
  </p>

  <p class="para">
   この拡張モジュールを自分でコンパイルすることもできます。
   PHP をソースからビルドすれば、使いたい MySQL 拡張モジュールを指定したり
   各拡張モジュールが使用するクライアントライブラリを選択したりすることができます。
  </p>

  <p class="para">
   クライアントライブラリには MySQL Native Driver を使うことを推奨します。
   そのほうがパフォーマンスが向上し、MySQL Client Library
   を使用した場合には使えない機能も使用することができます。
   <a href="mysqli.overview.html#mysqli.overview.mysqlnd" class="link">PHP の MySQL Native
   Driver とは?</a>
   に、MySQL Native Driver の利点が簡単にまとめられています。
  </p>

  <p class="para">
   <code class="literal">/path/to/mysql_config</code> は、MySQL Server に含まれる
   <code class="literal">mysql_config</code> プログラムの場所を表します。
  </p>

  <table id="mysqli.installation.time.matrix" class="doctable table">
   <caption><strong>mysqli のコンパイル時のサポート表</strong></caption>
   
    <thead>
     <tr>
      <th>PHP バージョン</th>
      <th>デフォルト</th>
      <th>設定オプション: <a href="mysqlnd.overview.html" class="link">mysqlnd</a></th>
      <th>設定オプション: <code class="literal">libmysqlclient</code></th>
      <th>変更履歴</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>5.4.x 以降</td>
      <td>mysqlnd</td>
      <td><strong class="option configure">--with-mysqli</strong></td>
      <td><strong class="option configure">--with-mysqli=/path/to/mysql_config</strong></td>
      <td>mysqlnd がデフォルトになりました。</td>
     </tr>

     <tr>
      <td>5.3.x</td>
      <td>libmysqlclient</td>
      <td><strong class="option configure">--with-mysqli=mysqlnd</strong></td>
      <td><strong class="option configure">--with-mysqli=/path/to/mysql_config</strong></td>
      <td>mysqlnd が使えるようになりました。</td>
     </tr>

     <tr>
      <td>5.0.x, 5.1.x, 5.2.x</td>
      <td>libmysqlclient</td>
      <td>利用できません</td>
      <td><strong class="option configure">--with-mysqli=/path/to/mysql_config</strong></td>
      <td>mysqlnd は使えません。</td>
     </tr>

    </tbody>
   
  </table>


  <p class="para">
   MySQL 拡張モジュールとクライアントライブラリの組み合わせは自由であることに注意しましょう。
   たとえば、MySQL 拡張モジュールは MySQL Client Library (libmysqlclient) を使うようにして有効にし、
   一方 <code class="literal">mysqli</code> 拡張モジュールは MySQL Native Driver
   を使うようにするということも可能です。
   しかし、それ以外にも拡張モジュールとクライアントライブラリのすべての組み合わせが使用可能です。
  </p>

 </div>

 <div class="section" id="mysqli.installation.windows">

  <h2 class="title">Windows システムでのインストール</h2>

  <p class="para">
   Windows の場合、PHP のインストールにはたいていバイナリインストーラを使用します。
  </p>

  <div class="section" id="mysqli.installation.windows.php53">

    <h2 class="title">PHP 5.3.0 以降</h2>

   <p class="para">
    Windows の PHP バージョン 5.3 以降では、
    <code class="literal">mysqli</code> 拡張モジュールはデフォルトで有効になっており、
    また MySQL Native Driver を使うようになっています。つまり、
    <var class="filename">libmysql.dll</var> にアクセスできるようにする必要はないということです。
   </p>

  </div>

  <div class="section" id="mysqli.installation.windows.php52">

   <h2 class="title">PHP 5.0, 5.1, 5.2</h2>

   <p class="para">
    これらの旧バージョンの PHP (PHP 5.2 は 2011年1月6日にサポートを終了しています)
    では、<code class="literal">mysqli</code> を有効にしてクライアントライブラリを指定するための設定が必要です。
   </p>

   <p class="para">
    <code class="literal">mysqli</code>
    拡張モジュールはデフォルトでは有効になりません。そこで、
    <var class="filename">php_mysqli.dll</var> DLL を
    <var class="filename">php.ini</var> の中で有効化しなければなりません。有効化するには、まず
    <var class="filename">php.ini</var> を探し (通常は <var class="filename">c:\php</var> にあります)、
    そして <code class="literal">extension=php_mysqli.dll</code> という行の最初にあるコメント
    (セミコロン) を削除します。この行は
    <code class="literal">[PHP_MYSQLI]</code> というセクションにあります。
   </p>

   <p class="para">
    また、MySQL Client Library を <code class="literal">mysqli</code>
    で使いたい場合は、PHP からクライアントライブラリのファイルにアクセスできるようにしなければなりません。
    MySQL Client Library は <var class="filename">libmysql.dll</var>
    という名前のファイルで、これは Windows 版の PHP に含まれています。
    このファイルを Windows の環境変数
    <var class="envar">PATH</var> で指定された場所に置けば読み込めるようになります。
    FAQ の
    &quot;<a href="faq.installation.html#faq.installation.addtopath" class="link">Windows で PHP のディレクトリを
    PATH に追加するにはどうすればいいのですか?</a>&quot;
    に、その方法が説明されています。
    <var class="filename">libmysql.dll</var> を Windows のシステムディレクトリ
    (通常は <var class="filename">c:\Windows\system</var>) にコピーしても動作します。
    システムディレクトリは、デフォルトでシステムの
    <var class="envar">PATH</var> に含まれているからです。
    しかし、これはできるだけ避けるようにしましょう。
   </p>

   <p class="para">
    その他の PHP 拡張モジュール (<var class="filename">php_mysqli.dll</var> など)
    を有効にするときと同様、PHP のディレクティブ
    <a href="ini.core.html#ini.extension-dir" class="link">extension_dir</a>
    を設定して PHP 拡張モジュールのある場所を指定する必要があります。
    <a href="install.windows.manual.html" class="link">Windows
    での手動インストールの手順</a> も参照ください。PHP 5 の <code class="literal">extension_dir</code>
    の値は、たとえば <var class="filename">c:\php\ext</var> のようになります。
   </p>

   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     ウェブサーバーの起動時に
     <code class="literal">&quot;Unable to load dynamic library
     &#039;./php_mysqli.dll&#039;&quot;</code>
     のようなエラーが出たら、それは
     <var class="filename">php_mysqli.dll</var> や
     <var class="filename">libmysql.dll</var> をシステムが見つけられないことが原因です。
    </p>
   </p></blockquote>
  </div>

 </div>

</div></div></div></body></html>